---
title: "clockplot"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{clockplot}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The package `clockplot` is used to generate clock charts showing event times 
on a 24-hour clock. Additionally it helps you make a day chart, week chart, 
or month chart, or plan events in those periods.

<span style = "color:Orange;">âš </span> The plots shown here may not produce the
expected output due to the behavior of Rmarkdown. To see the actual appearance,
[visit this link](https://github.com/mahmudstat/clockplot) or run the codes given. 

## Getting started

After installing the package, load it to use the available functions. 

```{r setup}
library(clockplot)
```

## Types of Charts

The clockpolot offers three types of plot

1. Clock charts
2. Cyclic Charts
3. Period planner

The first type shows event times (HH:MM:SS) on a 24 hour clock. The times can be 
arbitrary (such as `16:54:34`) and not necessarily specific hours at all. 


The second type allows you to show values during a certain duration (day, week, month, and year). There is a generic function `cyclic_chart()` for arbitrary period, while
there charts specially made for specific period (day, week, year etc.)

Finally, the third one can help you make a plan in a certain period (day, week, month, and year), presenting tasks against period. 

## Clock Charts

The examples use built-in data sets. If your times are in `HH:MM` format,
you can covert to `HH:MM:SS` format using `hms::parse_hm()`. 

### Basic Clock Chart

This is the simplest clock chart; the hands are
neither colored nor length modified by a criteria. 

We are going to use the `smsclock` data set. Let us have a look on it. 

```{r}
head(smsclock)
```

The necessary code to produce a chart is just this:

```{r eval=FALSE}
clock_chart(smsclock, time, Col = "green")
```

The code produces a `ggplot2` object, so we can add (`+`) add extra components 
to make it more informative. 


```{r clock-chart, fig.align = 'center', fig.height=5, fig.width=5}
p1 <- clock_chart(smsclock, time, Col = "green")
p1 + ggplot2::labs(title = "SMS Receiving Times")
```


### Colored Clock Chart

In the previous chart, we colored the hands by an arbitrary color. We may want
to color it by a `numeric` variable. `clock_chart_col` exactly does this. 

We may use `bdquake` data set for this. 

```{r}
head(bdquake)
```

The code without added components. 

```{r eval=FALSE}
clock_chart_col(bdquake, time = hms, crit = mag)
```

Let us modify it.

```{r clock-chart-col, fig.align = 'center', fig.height=5, fig.width=5}
p <- clock_chart_col(bdquake, time = hms, crit = mag)
p + ggplot2::labs(size = "Magnitude", title = "Earthquakes in Bangladesh since 2023")
```


to be continued ...
